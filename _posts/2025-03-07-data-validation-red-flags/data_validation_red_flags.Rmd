---
title: "Love is Blind, But Data Shouldn't Be: Spotting the Red Flags"
author:
  - name: Kayla Vanderkruk, Chloe Pou-Prom, Maitreyee Sidhaye
    affiliation: DSAA, Unity Health Toronto
date: 2025-03-07
output: 
  distill::distill_article:
    md_extensions: +emoji
    self_contained: false
categories:
    - data-validation
    - language-python
    - project-chartwatch
    - post-miscellaneous
draft: true
preview: loveisblindlogo.jpg
---

Back in November 2024, as the hospital network prepared for the launch of its new EPR system, Epic :cow2:, DSAA was busy at work building data validation dashboards to ensure smooth sailing during the transition. Our mission? To validate that the brand new data we're seeing looks like what we'd expect from historical data. We created a number of dashboards and tests for ourselves with a variety of tools (e.g., pointblank). 

One of those dashboards created was dedicated to patient labs and vitals, with the general goal of highlighting potential issues for any of our inpatient tools and, more specifically, to help prioritize the relaunch of [CHARTwatch](https://unityhealth.to/2024/07/innovating-care-experience-with-ai/).


When we first started building this dashboard, we had a bit of a problem: we had no idea what the new data would look like. So, we focused our efforts on one measure at a time, building a few different visualizations and generating summary statistics for in the hopes of creating a comprehensive validation tool. We included medians, IQRs, and counts (quick gut check stats), along with violin and QQ plots for a more in-depth investigation of each lab and vital.

![](lab_sodium.PNG)

Now fast-forward to today, with data flowing in from Epic, we get to put our dashboards to the test! Our first challenge faced is that patient labs and vitals are limited to current patients only (we're working with a lot of people across the organization to ensure we have historic data access as well!).  

Working with what we currently have we dove in right away. We were and are on the lookout for any deviation observed between the pre vs. post go-live data. Some measures are providing "good" vibes, like the sodium lab (above) :green_heart: :salt:. Whereas others are raising yellow and even (possible) red flags, demanding closer attention :detective:

-   **Venous O2 Saturation, measures the bloods' oxygen content returning to the heart**: On first glance of the summary statistics and the violin plots, alarm bells were ringing :rotating_light:! The new data had a median of 76 compared to 0.72 historically, and the distributions weren't overlapping at all?! But thanks to our trusty QQ plot, we can see that this looks like a scaling issue as the quantiles generally follow a straight line :green_heart:, where what we're able to observe are 100x that of historic values (think 78 vs .78). 

![](lab_o2sat.PNG)

-   **Eosinophils, a count of a type of white blood cell** : A yellow flag here :yellow_circle:. The new median appears to at least be within the IQR of the historical data, however the figures reveal a loss of precision, and possibly even rounding up to the nearest decimal place? The decreased precision makes it hard to draw conclusions about data quality, as the new data appears discrete compared to our historical data. While we're investigating, we are also uncovering some of these issues already. Some of these are small changes or formatting in how we get (some) data like through HL7 messages.

![](lab_eosinophils.PNG)



While the new system is up and running, DSAA still has its hands full with data and model validation before putting their AI tools back into action. But on the bright side, there have been plenty of opportunities for growth and learning along the way. Some of the highlights include:

-   Sharpening our Python programming skills, with a hint of R thanks to the [`polars`](https://blog.tidy-intelligence.com/posts/dplyr-vs-polars/), [`great-tables`](https://www.appsilon.com/post/great-tables), and [`skimpy`](https://aeturrell.github.io/skimpy/) libraries

-   [Exploring QMD dashboards](https://quarto.org/docs/dashboards/interactivity/shiny-python/index.html)

-   Updating our Posit Connect instance
